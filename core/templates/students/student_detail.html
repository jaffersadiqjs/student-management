{% extends 'base.html' %}
{% block title %}{{ student.name }}{% endblock %}
{% block content %}
<div class="row">
  <div class="col-md-8">
    <h2>{{ student.name }}</h2>
    <p><strong>Age:</strong> {{ student.age }} <br><strong>Email:</strong> {{ student.email }}</p>

    <hr>
    <h4>Enrolled Courses</h4>
    {% if student.enrollments.all %}
      <ul class="list-group mb-3">
        {% for e in student.enrollments.all %}
          <li class="list-group-item d-flex justify-content-between align-items-center">
            {{ e.course.title }}
            <span class="badge bg-secondary">{{ e.date }}</span>
          </li>
        {% empty %}
          <li class="list-group-item">No enrollments yet.</li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-muted">No enrollments yet.</p>
    {% endif %}

    {% if user.is_authenticated %}
      <a class="btn btn-primary" href="{% url 'enroll_student' student.id %}">Enroll in Course</a>
    {% else %}
      <p class="text-muted">Please <a href="{% url 'login' %}">login</a> to enroll this student.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
